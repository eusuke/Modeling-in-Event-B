== Chapter 2 Controlling cars on a bridge

=== おおまかな流れ

. まずは島と橋が一体化したものが本土とくっついているモデルを構築する．
.. 状態をモデル化する．
.. イベントをモデル化する．
... 島と橋が一体化しているので「本土から出る」「本土へ入る」というイベントのみ．
... まだガードなし．
.. 各イベントについてINVを証明する．
... ここらでシークエントやら推論規則やらの導入．
.. イベントにガード導入
.. 初期化イベント導入
.. DLF証明
. 最初のリファインメントとして，一体化させていた島と橋 (一方通行) に分離する．
.. 分離することで「島から出る」「島へ入る」というイベントを導入する．
.. GRD，INVの証明
.. 新しいイベントの導入「島から出る」「島へ入る」
... これらが収束する (=ライブロックしない) ことを証明する (NAT，VAR)
.. 具象モデルでのDLFの証明 (抽象モデル以上にデッドロックすることがないこと)

=== memo

* 話の流れで初期化しないで証明を始めているが，
  Rodinを使う場合は初期化イベントがないと 2.4.15 までの証明も通らない．
* deadlock freedom ruleをRodinで証明するには??
** DLFを自前で不変条件に定義する．Rodinで定義した後に "not theorem" のラベルをクリックして "theorem" に変更すること．
*** 意味的には "theorem" にすることで，これが他の公理や不変条件から証明されるべき定理であることをRodinに指示することになる．
*** それにより，Rodinは証明責務 DLF/THM を生成する．
*** もしこれをやらなかった場合，DLFはINVに使われることになる (⇒ ML_out/DLF/INV) みたいな証明責務が生成されるので注意する．

<<<